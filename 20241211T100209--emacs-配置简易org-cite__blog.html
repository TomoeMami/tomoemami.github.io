<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2026-01-06 周二 17:28 -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>emacs-配置简易org-cite</title>
<meta name="generator" content="Org Mode" />
<link rel='stylesheet' type='text/css' href='/org.css'/>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href=""> UP </a>
 |
 <a accesskey="H" href="index.html"> HOME </a>
</div><div id="preamble" class="status">
<p>▼ 本文更新于 <span class="timestamp-wrapper"><span class="timestamp">[2026-01-06 周二 17:20]</span></span></p>
</div>
<div id="content" class="content">
<header>
<h1 class="title">emacs-配置简易org-cite</h1>
</header><p>
<span class="timestamp-wrapper"><time class="timestamp" datetime="2024-12-11T10:02:00">[2024-12-11 周三 10:02]</time></span><br>
</p>

<p>
有了功能，就可以配合pandoc在org-mode中进行论文写作了。如果需要进行很学术、很专业的论文写作，推荐查阅 <code>LaTeX</code> 、 <code>BibTeX</code> 、 <code>org-ref</code> 等工具。这里配置一个简单的摘要功能，便于引用。<br>
</p>
<div id="outline-container-org87c89cd" class="outline-2">
<h2 id="org87c89cd"><span class="section-number-2">1.</span> 设置bib文件内容及路径</h2>
<div class="outline-text-2" id="text-1">
<p>
在org文件顶部加上：<br>
</p>

<div class="org-src-container">
<pre class="src src-nil"><code>#+bibliography: path/to/your/bib文件.bib
</code></pre>
</div>

<p>
声明一个在本org文件中查找引用的路径，后续可以通过 <code>C-c C-x @</code> 呼出引用插入界面。<br>
</p>

<p>
注意，在使用 <code>vertico</code> 的时候，需要先 <code>RET</code> （批量）选中引用，然后用 <code>M-RET</code> 插入引用。<br>
</p>
</div>
</div>
<div id="outline-container-org8b204f6" class="outline-2">
<h2 id="org8b204f6"><span class="section-number-2">2.</span> 网页引用的bib写法</h2>
<div class="outline-text-2" id="text-2">
<p>
如果在正规的学术网站上，是可以直接复制到 <code>bibtex</code> 格式的引用文本，粘贴进 <code>.bib</code> 文件即可。但如果引用的资料在网页上，则需要进入<a href="https://web.funnysaltyfish.fun/link2ref/?source=index">网页引用生成器</a>，将引用的链接粘贴进之后生成引用文本，然后根据引用文本自行填写 <code>.bib</code> 文件内容。<br>
</p>

<p>
如引用文本为<br>
</p>

<div class="org-src-container">
<pre class="src src-nil"><code>李平书. 2021,谢谢你的关心[EB/OL]. (2021-12-21)[2021-12-21]. https://news.china.com/zw/news/13000776/20211221/40601066.html.
</code></pre>
</div>

<p>
则在 <code>.bib</code> 文件中应为<br>
</p>

<div class="org-src-container">
<pre class="src src-nil"><code>@misc{这里自己填，应该是英文数字组合,
author = {李平书},
title = {2021,谢谢你的关心},
howpublished = {[EB/OL]. (2021-12-21)[2021-12-21]. https://news.china.com/zw/news/13000776/20211221/40601066.html.},
}
</code></pre>
</div>

<p>
这样可以确保导出的参考文献下格式相对正确。<br>
</p>
</div>
</div>
<div id="outline-container-orgd418653" class="outline-2">
<h2 id="orgd418653"><span class="section-number-2">3.</span> 修改pandoc导出命令</h2>
<div class="outline-text-2" id="text-3">
<p>
将导出函数中 <code>shell-command</code> 一行改为一个带判断的函数：<br>
</p>

<div class="org-src-container">
<pre class="src src-elisp"><code><span style="color: #a7601f;">(</span><span style="color: #006f00;">if</span> <span style="color: #557400;">(</span>string-match <span style="color: #ca3400;">"&#35770;&#25991;"</span> docx-file<span style="color: #557400;">)</span>
    <span style="color: #557400;">(</span><span style="color: #006f00;">let</span> <span style="color: #bf4400;">(</span><span style="color: #3f6faf;">(</span>bib-file <span style="color: #ca3400;">"path/to/your/bib&#25991;&#20214;.bib"</span><span style="color: #3f6faf;">)</span>
          <span style="color: #3f6faf;">(</span>csl-file <span style="color: #ca3400;">"path/to/your/csl&#25991;&#20214;.csl"</span><span style="color: #3f6faf;">)</span>
          <span style="color: #3f6faf;">(</span>ref-title <span style="color: #ca3400;">"&#21442;&#32771;&#25991;&#29486;"</span><span style="color: #3f6faf;">)</span><span style="color: #bf4400;">)</span>
      <span style="color: #bf4400;">(</span>shell-command <span style="color: #3f6faf;">(</span>format <span style="color: #ca3400;">"pandoc --from org+east_asian_line_breaks+citations -M reference-section-title=%s -N -C --bibliography=%s --csl=%s %s -o %s --reference-doc=%s"</span> ref-title bib-file csl-file <span style="color: #00824f;">(</span>my/save-buffer-to-temp-org<span style="color: #00824f;">)</span> docx-file template-file<span style="color: #3f6faf;">)</span><span style="color: #bf4400;">)</span><span style="color: #557400;">)</span>
  <span style="color: #557400;">(</span>shell-command <span style="color: #bf4400;">(</span>format <span style="color: #ca3400;">"pandoc %s --from org+east_asian_line_breaks -o %s --reference-doc=%s"</span> <span style="color: #3f6faf;">(</span>my/save-buffer-to-temp-org<span style="color: #3f6faf;">)</span> docx-file template-file<span style="color: #bf4400;">)</span><span style="color: #557400;">)</span><span style="color: #a7601f;">)</span>
</code></pre>
</div>

<p>
符合pandoc标准的GB/T 7714-2015 csl相关文件可以在<a href="https://editor.citationstyles.org/styleInfo/?styleId=http%3A%2F%2Fwww.zotero.org%2Fstyles%2Fchina-national-standard-gb-t-7714-2015-numeric">这里下载</a>。<br>
</p>

<p>
这样一来，就可以把org文件导出为带引用的docx文件了。不过格式会有一点问题，需要手动修改，但也比徒手在docx文件中管理编辑引用方便多了。<br>
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<p>© Published by <a href="https://www.gnu.org/software/emacs/">Emacs</a> 31.0.50 (<a href="https://orgmode.org">Org</a> mode 9.8-pre)　|　<a href="https://tomoemami.github.io/rss.xml">RSS</a>　<a href="https://tomoemami.github.io/20251121T151653--english-post-index__wiki.html">English-Index</a></p>
</div>
</body>
</html>
