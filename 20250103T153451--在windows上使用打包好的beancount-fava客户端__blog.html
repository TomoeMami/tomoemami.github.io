<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2026-01-06 周二 17:28 -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>在windows上使用打包好的beancount-fava客户端</title>
<meta name="generator" content="Org Mode" />
<link rel='stylesheet' type='text/css' href='/org.css'/>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href=""> UP </a>
 |
 <a accesskey="H" href="index.html"> HOME </a>
</div><div id="preamble" class="status">
<p>▼ 本文更新于 <span class="timestamp-wrapper"><span class="timestamp">[2026-01-06 周二 17:22]</span></span></p>
</div>
<div id="content" class="content">
<header>
<h1 class="title">在windows上使用打包好的beancount-fava客户端</h1>
</header><p>
<span class="timestamp-wrapper"><time class="timestamp" datetime="2025-01-03T15:34:00">[2025-01-03 周五 15:34]</time></span><br>
</p>

<p>
Beancount在Windows上安装，一直有一个绕不过去的<a href="https://beancount.github.io/docs/installing_beancount.html#install-compiler">编译问题</a>，官方推荐的几种方式（MSVC编译器、WSL、Cygwin）都对非电脑专业用户很不友好（程序员也会被绕一下）。<br>
</p>

<blockquote>
<p>
<span class="timestamp-wrapper"><time class="timestamp" datetime="2025-01-06T09:26:00">[2025-01-06 周一 09:26]</time></span> 更新：经测试，可以直接在Windows上通过pip安装fava和beancount，但是需要在<a href="https://pypi.org/project/beancount/#files">beancount的pypi文件界面</a>查看发布的文件，注意「cp3xx」版本。<br>
</p>

<p>
如果你安装了最新的Python（此时为Python 3.13），则会发现用pip安装beancount时需要编译。<br>
</p>

<p>
2024年6月17日发布的beancount 3.0.0附带的whl文件最高由cp312（Python3.12）预编译而来，更新的Python版本需要安装MSVC等编译器。如果没有特殊版本需求，建议降级到3.12，直接在Microsoft Store中安装3.12即可。<br>
</p>

<p>
后续内容不再需要。如果有不懂安装Python的用户，也可以继续查看并使用。<br>
</p>
</blockquote>

<p>
幸好，我发现GitHub上早有人创建了Beancount+Fava的可执行打包exe脚本，但是疏于更新，上次发布已是三年前了。我fork了这个repo，并把打包的Beancount和Fava更新到了最新版本（Beancount 3.0.0 + Fava 1.30）。现将使用流程记录于下。<br>
</p>
<div id="outline-container-orgb9fc64a" class="outline-2">
<h2 id="orgb9fc64a"><span class="section-number-2">1.</span> 安装压缩包到系统</h2>
<div class="outline-text-2" id="text-1">
<ol class="org-ol">
<li>从<a href="https://github.com/TomoeMami/beancountfava-for-windows/releases">Release界面</a>或<a href="https://github.com/TomoeMami/beancountfava-for-windows/actions">Action点进去之后的Artifacts界面</a>下载GitHub Action打包好的fava.zip<br></li>

<li><p>
然后按​<code>Win+R</code>​，输入​<code>cmd</code>​并回车，进入cmd界面，输入：<br>
</p>

<div class="org-src-container">
<pre class="src src-cmd"><code>  mkdir C:\Users\Public\bin\fava
</code></pre>
</div>

<p>
无反应或输出「子目录或文件已存在」为正常。<br>
</p></li>

<li>然后按​<code>Win+E</code>​ 进入资源管理器界面，在上方地址栏输入​<code>C:\Users\Public\bin\fava</code>​，按回车进入该目录。<br></li>

<li><p>
把先前下载好的​<code>fava.zip</code>​层层解压，直到看见​<code>app</code>​和​<code>python</code>​两个文件夹。<br>
</p>

<p>
解压完成后可能会报「不支持的压缩算法」错误，不用管。<br>
</p></li>

<li>把这两个文件夹拷贝到先前打开的​<code>C:\Users\Public\bin\fava</code>​目录中。<br></li>
</ol>
</div>
</div>
<div id="outline-container-org991ece6" class="outline-2">
<h2 id="org991ece6"><span class="section-number-2">2.</span> 设置启动Fava快捷方式</h2>
<div class="outline-text-2" id="text-2">
<ol class="org-ol">
<li>使用Fava时，需要设置一个主文件（<a href="https://www.starlg.cn/2019/07/13/Beancount-01/#%E5%A6%82%E4%BD%95%E5%9C%A8%E4%B8%BB%E6%96%87%E4%BB%B6%E4%B8%8B%E5%8C%85%E5%90%AB%E5%85%B6%E4%BB%96-bean-%E6%96%87%E4%BB%B6">参考1</a>、<a href="https://byvoid.com/zhs/blog/beancount-bookkeeping-4/#%e5%a4%9a%e6%96%87%e4%bb%b6%e7%bb%84%e7%bb%87">byvoid博文</a>），这里以​<code>main.bean</code>​为例，也可以叫​<code>1.bean</code>​或​<code>114514.bean</code>​，都不影响。<br></li>

<li><p>
在账本主文件同级文件夹（​<code>main.bean</code>​文件存放的目录），右键—新建—文本文档，然后将其打开，复制以下内容进去：<br>
</p>

<div class="org-src-container">
<pre class="src src-cmd"><code>   C:\Users\Public\bin\fava\app\Scripts\fava.exe main.bean
</code></pre>
</div>

<p>
注意，如果你的主文件不叫​<code>main.bean</code>​，那就把上面这行最后的​<code>main.bean</code>​换成你的主文件带后缀名全名。<br>
</p></li>

<li>然后保存，并关闭，把这个​<code>新建 文本文档.txt</code>​重命名为​<code>fava.bat</code>​，并保存。<br></li>

<li><p>
最后双击启动​<code>fava.bat</code>​，会看见一个窗口弹出，上面有一行小字：<br>
</p>

<div class="org-src-container">
<pre class="src src-cmd"><code>   Starting Fava on http://127.0.0.1:5000
</code></pre>
</div></li>

<li>按住​<code>Ctrl</code>​，点击窗口中的后面那行链接（或者打开你的浏览器，在地址栏里输入后面的地址也行），就能进入Fava的网页界面。<br></li>

<li>要关闭Fava，直接点右上角的❌就行。<br></li>
</ol>
</div>
</div>
</div>
<div id="postamble" class="status">
<p>© Published by <a href="https://www.gnu.org/software/emacs/">Emacs</a> 31.0.50 (<a href="https://orgmode.org">Org</a> mode 9.8-pre)　|　<a href="https://tomoemami.github.io/rss.xml">RSS</a>　<a href="https://tomoemami.github.io/20251121T151653--english-post-index__wiki.html">English-Index</a></p>
</div>
</body>
</html>
