<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2026-01-06 周二 17:27 -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>emacs-自定义org-agenda界面</title>
<meta name="generator" content="Org Mode" />
<link rel='stylesheet' type='text/css' href='/org.css'/>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href=""> UP </a>
 |
 <a accesskey="H" href="index.html"> HOME </a>
</div><div id="preamble" class="status">
<p>▼ 本文更新于 <span class="timestamp-wrapper"><span class="timestamp">[2026-01-06 周二 17:15]</span></span></p>
</div>
<div id="content" class="content">
<header>
<h1 class="title">emacs-自定义org-agenda界面</h1>
</header><p>
<span class="timestamp-wrapper"><time class="timestamp" datetime="2024-05-27T14:24:00">[2024-05-27 周一 14:24]</time></span><br>
</p>

<p>
参考链接：<a href="https://macowners.club/posts/personal-touch-org-agenda/">https://macowners.club/posts/personal-touch-org-agenda/</a><br>
</p>

<p>
我的设置：<br>
</p>

<div class="org-src-container">
<pre class="src src-elisp"><code><span style="color: #a7601f;">(</span><span style="color: #006f00;">setq</span> org-agenda-span 7
      org-agenda-start-on-weekday nil
      org-agenda-start-day <span style="color: #ca3400;">"1d"</span>
      org-agenda-current-time-string <span style="color: #ca3400;">"&#127776;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480; now"</span>
      org-agenda-todo-list-sublevels nil <span style="color: #8f6f4a;">;;</span><span style="color: #8f6f4a;">&#20165;&#26174;&#31034;&#26368;&#39640;&#23618;todo
</span>      org-agenda-skip-scheduled-if-done t
      org-agenda-skip-deadline-if-done t
      org-agenda-remove-tags t <span style="color: #8f6f4a;">;;</span><span style="color: #8f6f4a;">&#38544;&#34255;tags
</span>      org-agenda-scheduled-leaders '<span style="color: #557400;">(</span><span style="color: #ca3400;">"&#9655;S: "</span> <span style="color: #ca3400;">"&#9655;x%2d"</span><span style="color: #557400;">)</span>
      org-agenda-deadline-leaders '<span style="color: #557400;">(</span><span style="color: #ca3400;">"&#9654;D: "</span> <span style="color: #ca3400;">"&#9654;+%2d"</span> <span style="color: #ca3400;">"&#9654;-%2d"</span><span style="color: #557400;">)</span>
      org-agenda-time-grid '<span style="color: #557400;">(</span><span style="color: #bf4400;">(</span>today require-timed remove-match<span style="color: #bf4400;">)</span>
                             <span style="color: #bf4400;">(</span>000 900 1200 1800 2400<span style="color: #bf4400;">)</span>
                             <span style="color: #ca3400;">"   "</span> <span style="color: #ca3400;">"&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;"</span><span style="color: #557400;">)</span>
      <span style="color: #a7601f;">)</span>
</code></pre>
</div>
<div id="outline-container-orgc250309" class="outline-2">
<h2 id="orgc250309"><span class="section-number-2">1.</span> 自定义agenda-view</h2>
<div class="outline-text-2" id="text-1">
<p>
通过以下设置，自定义一个agenda-view，使其可以像日历一样展示临近（我设置的10天）日程及其他部件。<br>
</p>

<div class="org-src-container">
<pre class="src src-elisp"><code><span style="color: #a7601f;">(</span><span style="color: #006f00;">setq</span> org-agenda-custom-commands
      '<span style="color: #557400;">(</span>
        <span style="color: #bf4400;">(</span><span style="color: #ca3400;">"d"</span> <span style="color: #ca3400;">"Daily Agenda"</span>
         <span style="color: #3f6faf;">(</span><span style="color: #00824f;">(</span>agenda <span style="color: #ca3400;">""</span> <span style="color: #9a456f;">(</span><span style="color: #a2604f;">(</span>org-agenda-span 1<span style="color: #a2604f;">)</span><span style="color: #9a456f;">)</span><span style="color: #00824f;">)</span> 
          <span style="color: #00824f;">(</span>agenda <span style="color: #ca3400;">""</span> <span style="color: #9a456f;">(</span><span style="color: #a2604f;">(</span>org-agenda-overriding-header <span style="color: #ca3400;">"&#20020;&#36817;&#26085;&#31243;"</span><span style="color: #a2604f;">)</span>
                      <span style="color: #a2604f;">(</span>org-agenda-span 10<span style="color: #a2604f;">)</span>
                      <span style="color: #a2604f;">(</span>org-agenda-entry-types '<span style="color: #007a9f;">(</span><span style="color: #557400;">:timestamp</span> <span style="color: #557400;">:sexp</span><span style="color: #007a9f;">)</span><span style="color: #a2604f;">)</span><span style="color: #9a456f;">)</span><span style="color: #00824f;">)</span>
          <span style="color: #00824f;">(</span>org-ql-block '<span style="color: #9a456f;">(</span>and <span style="color: #a2604f;">(</span>todo <span style="color: #ca3400;">"TODO"</span><span style="color: #a2604f;">)</span>
                              <span style="color: #a2604f;">(</span>tags <span style="color: #ca3400;">"&#20182;&#20154;"</span><span style="color: #a2604f;">)</span><span style="color: #9a456f;">)</span>
                        <span style="color: #9a456f;">(</span><span style="color: #a2604f;">(</span>org-ql-block-header <span style="color: #ca3400;">"&#20182;&#20154;&#20107;&#39033;"</span><span style="color: #a2604f;">)</span><span style="color: #9a456f;">)</span><span style="color: #00824f;">)</span>
          <span style="color: #3f6faf;">)</span><span style="color: #bf4400;">)</span>
        <span style="color: #557400;">)</span><span style="color: #a7601f;">)</span>
</code></pre>
</div>

<p>
效果：<br>
</p>

<div class="org-src-container">
<pre class="src src-org"><code>Day-agenda (W47):
&#21608;&#19968;       18 &#21313;&#19968;&#26376; 2024 W47
   0:00       &#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;
   9:00       &#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;
  12:00       &#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;
  16:12       &#127776;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480; now
  16:30       &#9655;S:  TODO &#65336;&#65336;&#65336;&#65336;<span style="color: #dd0020;">[0/2]</span>
  18:00       &#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;
  18:30       &#9655;S:  TODO &#65336;&#65336;&#65336;
  20:00      *   ! &#65336;&#65336;&#65336;&#65336;&#65336;&#65336;
  20:00       &#9655;S:  TODO &#65336;MAA
  20:00       &#9655;S:  TODO &#65336;&#65336;&#65336;&#65336;<span style="color: #dd0020;">[0/3]</span>
  22:31       &#9655;S:  TODO &#65336;&#65336;&#65336;&#65336;&#65336;&#65336;&#65336;&#65336;
  23:00          ! &#65336;&#65336;
  24:00       &#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;
  &#9655;S:  TODO 6&#65336;&#65336;&#65336;&#65336;
  &#9655;S:  TODO &#65336;&#65336;&#65336;&#65336;&#65336;&#65336;&#65336;
  &#9655;S:  TODO &#65336;&#65336;&#65336;&#65336;
  &#9655;S:  TODO &#65336;&#65336;&#65336;&#65336;
  &#9655;S:  TODO &#65336;&#65336;&#65336;&#65336;&#12289;&#65336;&#65336;
  &#9654;+12 TODO &#65336;&#65336;&#65336;&#65336;&#65336; 43/50
  &#9654;+12 TODO &#65336;&#65336;&#65336;&#65336;
  &#9654;+41 TODO &#65336;&#65336;&#65336;&#65336;&#65336;&#65336;&#65336;

&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;
&#20020;&#36817;&#26085;&#31243;
&#21608;&#19968;       18 &#21313;&#19968;&#26376; 2024 W47
&#21608;&#20108;       19 &#21313;&#19968;&#26376; 2024
&#21608;&#19977;       20 &#21313;&#19968;&#26376; 2024
&#21608;&#22235;       21 &#21313;&#19968;&#26376; 2024
&#21608;&#20116;       22 &#21313;&#19968;&#26376; 2024
&#21608;&#20845;       23 &#21313;&#19968;&#26376; 2024
&#21608;&#26085;       24 &#21313;&#19968;&#26376; 2024
&#21608;&#19968;       25 &#21313;&#19968;&#26376; 2024 W48
  &#9200;&#65336;&#65336;10&#65336; &#127874; &#65336;&#65336; 52 &#65336;&#65336;&#65336;
&#21608;&#20108;       26 &#21313;&#19968;&#26376; 2024
&#21608;&#19977;       27 &#21313;&#19968;&#26376; 2024

&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;
&#20182;&#20154;&#20107;&#39033;
 TODO &#65336;&#65336;&#65336;&#65336;&#65336;&#65336;&#65336;
 TODO &#65336;&#65336;&#65336;&#65336;&#65336;&#65336;&#65336;&#65336;&#65336;&#65336;&#65336;&#65336;&#65336;&#65336;&#65336;
 TODO &#65336;&#65336;&#65336;&#65336;&#65336;&#65336;&#65336;&#65336;&#65336;&#65336;&#65336;&#65336;&#65336;&#65336;&#65336;&#65336;&#65336;&#65336;&#65336;&#65336;
</code></pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p>© Published by <a href="https://www.gnu.org/software/emacs/">Emacs</a> 31.0.50 (<a href="https://orgmode.org">Org</a> mode 9.8-pre)　|　<a href="https://tomoemami.github.io/rss.xml">RSS</a>　<a href="https://tomoemami.github.io/20251121T151653--english-post-index__wiki.html">English-Index</a></p>
</div>
</body>
</html>
